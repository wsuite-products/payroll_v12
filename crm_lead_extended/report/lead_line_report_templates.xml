<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="external_layout_standard">

        <div class="header">
            <div class="row" style="font-size: 13px;">
                <div class="col-5 mb4">
                    <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="width:100px;height:100px;" alt="Logo"/>
                    <div t-field="company.partner_id"
                        t-options='{"widget": "contact", "fields": ["name", "address", "phone", "fax", "email", "website", "vat"], "no_marker": true}'
                    />
                </div>
                <div class="col-4 mb4">
                    <br/><br/>
                    <strong>BUDGET OF <span t-esc="data['report_type']" /></strong>
                    <br/>
                    <br/>
                    No : <span t-esc="data['No']" />
                </div>
                <div class="col-3 mb4">
                    <table width="100%">
                        <tr>
                            <td style="text-align: center;" width="50%"><strong>Report Date</strong></td>
                            <td style="text-align: center;" width="10%"><strong>:</strong></td>
                            <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y/%m/%d')"/></td>
                        </tr><br/><br/>
                        <tr>
                            <td style="text-align: center;"  width="50%"><strong>Report Time</strong></td>
                            <td style="text-align: center;" width="10%"><strong>:</strong></td>
                            <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M %p')"/></td>
                        </tr><br/>
                        <tr>
                            <td style="text-align: center;"  width="50%"><strong>Page</strong></td>
                            <td style="text-align: center;" width="10%"><strong>:</strong></td>
                            <td>
                                <span class="page"/> of <span class="topage"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <br/>
            <div class="row" style="font-size: 13px;">
                <div class="col-6 mb4">
                    <table width="100%">
                        <tr>
                            <td width="20%"><strong>Client:</strong></td>
                            <td><span t-esc="data['Cliente']" /></td>
                        </tr>
                        <tr>
                            <td width="20%"><strong>Product:</strong></td>
                            <td><span t-esc="data['Producto']" /></td>
                        </tr>
                        <tr>
                            <td width="20%"><strong>Name:</strong></td>
                            <td><span t-esc="data['Nombre']" /></td>
                        </tr>
                    </table>
                </div>
                <div class="col-6 mb4">
                    <table width="100%">
                        <tr>
                            <td width="20%"><strong>Version:</strong></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td width="20%"><strong>Date:</strong></td>
                            <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')"/></td>
                        </tr>
                        <tr>
                            <td  width="20%"><strong>Currency:</strong></td>
                            <td><span t-esc="data['Moneda']" /></td>
<!--                            <td width="20%"><strong>TRM:</strong></td>-->
<!--                            <td>___________</td>-->
                        </tr>
                    </table>
                </div>
            </div>
        </div><br/>
    <div class="article o_report_layout_standard" style="font-size:12px;" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
        <t t-call="web.address_layout"/>
        <t t-raw="0"/>
    </div>
</template>

<template id="new_external_layout">
    <t t-if="not o" t-set="o" t-value="doc"/>

    <t t-if="not company">
        <t t-if="company_id">
            <t t-set="company" t-value="company_id"/>
        </t>
        <t t-elif="o and 'company_id' in o">
            <t t-set="company" t-value="o.crm_lead_id.company_id.sudo()"/>
        </t>
        <t t-else="else">
            <t t-set="company" t-value="res_company"/>
        </t>
    </t>

    <t t-call="crm_lead_extended.external_layout_standard"><t t-raw="0"/></t>

</template>

    <template id="report_leadline_document_custom">
        <t t-set="doc" t-value="doc.with_context(lang=doc.crm_lead_id.partner_id.lang)" />
        <t t-call="crm_lead_extended.new_external_layout">
        <br/><br/>
        <div class="page" style="font-size: 11px;">
            <div class="oe_structure"/>
            <t t-foreach="report_type_list" t-as="rt">
                <t t-if="rt=='Televisión'">
                    <table width="100%" style="border: 1px solid black;">
                        <tr rowspan="2" width="100">
                            <th colspan="20"><span t-esc="rt"/></th>
                        </tr>
                        <tr class="text-center" style="border: 1px solid black;height:20px;">
                            <th width="7%" style="border: 1px solid black;" rowspan="3"> Channel</th>
                            <th width="7%" style="border: 1px solid black;">Stripe</th>
                            <th width="10%" style="border: 1px solid black;">Program</th>
                            <th width="10%" style="border: 1px solid black;">Piece</th>
                            <th width="4%" style="border: 1px solid black;">Duration</th>
                            <th width="5%" style="border: 1px solid black;">Order</th>
                            <th width="4%" style="border: 1px solid black;">Total <br/> Cribs </th>
                            <th width="5%" style="border: 1px solid black;">Rate <br/> Published</th>
                            <th width="5%" style="border: 1px solid black;">Rating</th>
                            <th width="5%" style="border: 1px solid black;">TRP</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Equiv</th>
                            <th width="5%" style="border: 1px solid black;">Gross <br/> Value</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Client</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Agen</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Finan</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Rcgos</th>
                            <th width="5%" style="border: 1px solid black;">Net <br/> Value</th>
                            <th width="3%" style="border: 1px solid black;">IVA</th>
                            <th width="5%" style="border: 1px solid black;">Listeners <br/> ECAR</th>
                            <th width="5%" style="border: 1px solid black;">CPM</th>
                        </tr>
                        <tbody class="sale_tbody">
                            <t t-foreach="list_data" t-as="line">
                                <t t-if="rt ==  line.get('report_type')">
                                    <tr class="text-center" style="border: 1px solid black;">
                                         <t t-if="line.get('is_ads')">
                                             <td>
                                                 <span t-esc="line.get('Cadena_Sistema')"/><br/>
                                                 <strong>Advertising Services</strong>
                                             </td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="line.get('Cadena_Sistema')"/></td>
                                        </t>
                                        <td><span t-esc="line.get('Emisora_Ciudad')"/></td>
                                        <td><span t-esc="line.get('Programa_Periodo')"/></td>
                                        <td><span t-esc="line.get('Tipo_de_Cuna')"/></td>
                                        <td><span t-esc="line.get('Duración')"/></td>
                                        <td><span t-esc="line.get('Orden')"/></td>
                                        <td><span t-esc="line.get('Total_Cunas')"/></td>
                                        <td><span t-esc="line.get('Tarifa_Publicada')"/></td>
                                        <td><span t-esc="line.get('rating')"/></td>
                                        <td><span t-esc="line.get('trp')"/></td>
                                        <td><span t-esc="line.get('Equiv')"/></td>
                                        <td><span t-esc="line.get('Valor_Bruto')"/></td>
                                        <td><span t-esc="line.get('Desc_Cliente')"/></td>
                                        <td><span t-esc="line.get('Desc_Agen')"/></td>
                                        <td><span t-esc="line.get('Desc_Finan')"/></td>
                                        <td><span t-esc="line.get('Rcgos')"/></td>
                                        <td><span t-esc="line.get('Valor_Neto')"/></td>
                                        <td><span t-esc="line.get('IVA')" t-options='{"widget": "monetary", "display_currency": doc.crm_lead_id.currency_id}'/></td>
                                        <td><span t-esc="line.get('Oyentes_ECAR')"/></td>
                                        <td><span t-esc="line.get('CPM')"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-if="rt=='RADIO'">
                    <table width="100%" style="border: 1px solid black;">
                        <tr rowspan="2" width="100">
                            <th colspan="18"><span t-esc="rt"/></th>
                        </tr>
                        <tr class="text-center" style="border: 1px solid black;height:20px;">
                            <th width="10%" style="border: 1px solid black;" rowspan="3"> Chain <br/> System</th>
                            <th width="10%" style="border: 1px solid black;">Station <br/> City</th>
                            <th width="10%" style="border: 1px solid black;">Crib Type</th>
                            <th width="10%" style="border: 1px solid black;">Program <br/> Period</th>
                            <th width="4%" style="border: 1px solid black;">Duration</th>
                            <th width="5%" style="border: 1px solid black;">Order</th>
                            <th width="4%" style="border: 1px solid black;">Total <br/> Cribs</th>
                            <th width="5%" style="border: 1px solid black;">Rate <br/> Published</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Equiv</th>
                            <th width="5%" style="border: 1px solid black;">Gross <br/> Value</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Client</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Agen</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Finan</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Rcgos</th>
                            <th width="5%" style="border: 1px solid black;">Net <br/>Value</th>
                            <th width="5%" style="border: 1px solid black;">IVA</th>
                            <th width="5%" style="border: 1px solid black;">Listeners <br/>ECAR</th>
                            <th width="5%" style="border: 1px solid black;">CPM</th>
                        </tr>
                        <tbody class="sale_tbody">
                            <t t-foreach="list_data" t-as="line">
                                <t t-if="rt == line.get('report_type')">
                                    <tr class="text-center" style="border: 1px solid black;">
                                         <t t-if="line.get('is_ads')">
                                             <td>
                                                 <span t-esc="line.get('Cadena_Sistema')"/><br/>
                                                 <strong>Advertising Services</strong>
                                             </td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="line.get('Cadena_Sistema')"/></td>
                                        </t>
                                        <td><span t-esc="line.get('Emisora_Ciudad')"/></td>
                                        <td><span t-esc="line.get('Tipo_de_Cuna')"/></td>
                                        <td><span t-esc="line.get('Programa_Periodo')"/></td>
                                        <td><span t-esc="line.get('Duración')"/></td>
                                        <td><span t-esc="line.get('Orden')"/></td>
                                        <td><span t-esc="line.get('Total_Cunas')"/></td>
                                        <td><span t-esc="line.get('Tarifa_Publicada')"/></td>
                                        <td><span t-esc="line.get('Equiv')"/></td>
                                        <td><span t-esc="line.get('Valor_Bruto')"/></td>
                                        <td><span t-esc="line.get('Desc_Cliente')"/></td>
                                        <td><span t-esc="line.get('Desc_Agen')"/></td>
                                        <td><span t-esc="line.get('Desc_Finan')"/></td>
                                        <td><span t-esc="line.get('Rcgos')"/></td>
                                        <td><span t-esc="line.get('Valor_Neto')"/></td>
                                        <td><span t-esc="line.get('IVA')" t-options='{"widget": "monetary", "display_currency": doc.crm_lead_id.currency_id}'/></td>
                                        <td><span t-esc="line.get('Oyentes_ECAR')"/></td>
                                        <td><span t-esc="line.get('CPM')"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-if="rt=='INTERNET'">
                    <table width="100%" style="border: 1px solid black;">
                        <tr rowspan="2" width="100">
                            <th colspan="19"><span t-esc="rt"/></th>
                        </tr>
                        <tr class="text-center" style="border: 1px solid black;height:20px;">
                            <th width="15%" style="border: 1px solid black;" rowspan="3">Purchase Type</th>
                            <th width="10%" style="border: 1px solid black;">Portal</th>
                            <th width="10%" style="border: 1px solid black;">Format</th>
                            <th width="5%" style="border: 1px solid black;">Location</th>
                            <th width="4%" style="border: 1px solid black;">Duration</th>
                            <th width="5%" style="border: 1px solid black;">Order</th>
                            <th width="4%" style="border: 1px solid black;">Total <br/> Location</th>
                            <th width="5%" style="border: 1px solid black;">Rate <br/> Published</th>
                            <th width="5%" style="border: 1px solid black;">Audience</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Equiv</th>
                            <th width="5%" style="border: 1px solid black;">Gross <br/> Value</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Client</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Agen</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Finan</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Rcgos</th>
                            <th width="5%" style="border: 1px solid black;">Net <br/>Value</th>
                            <th width="5%" style="border: 1px solid black;">IVA</th>
                            <th width="5%" style="border: 1px solid black;">Listeners <br/>ECAR</th>
                            <th width="5%" style="border: 1px solid black;">CPM</th>
                        </tr>
                        <tbody class="sale_tbody">
                            <t t-foreach="list_data" t-as="line">
                                <t t-if="rt ==  line.get('report_type')">
                                    <tr class="text-center" style="border: 1px solid black;">
                                         <t t-if="line.get('is_ads')">
                                             <td>
                                                 <span t-esc="line.get('Cadena_Sistema')"/><br/>
                                                 <strong>Advertising Services</strong>
                                             </td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="line.get('Cadena_Sistema')"/></td>
                                        </t>
                                        <td><span t-esc="line.get('Emisora_Ciudad')"/></td>
                                        <td><span t-esc="line.get('Programa_Periodo')"/></td>
                                        <td><span t-esc="line.get('Tipo_de_Cuna')"/></td>
                                        <td><span t-esc="line.get('Duración')"/></td>
                                        <td><span t-esc="line.get('Orden')"/></td>
                                        <td><span t-esc="line.get('Total_Cunas')"/></td>
                                        <td><span t-esc="line.get('Tarifa_Publicada')"/></td>
                                        <td><span t-esc="line.get('audience')"/></td>
                                        <td><span t-esc="line.get('Equiv')"/></td>
                                        <td><span t-esc="line.get('Valor_Bruto')"/></td>
                                        <td><span t-esc="line.get('Desc_Cliente')"/></td>
                                        <td><span t-esc="line.get('Desc_Agen')"/></td>
                                        <td><span t-esc="line.get('Desc_Finan')"/></td>
                                        <td><span t-esc="line.get('Rcgos')"/></td>
                                        <td><span t-esc="line.get('Valor_Neto')"/></td>
                                        <td><span t-esc="line.get('IVA')" t-options='{"widget": "monetary", "display_currency": doc.crm_lead_id.currency_id}'/></td>
                                        <td><span t-esc="line.get('Oyentes_ECAR')"/></td>
                                        <td><span t-esc="line.get('CPM')"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-if="rt=='PRENSA'">
<!--                <t t-elif="data['report_type'] == 'PRENSA'">-->
                    <table width="100%" style="border: 1px solid black;">
                        <tr rowspan="2" width="100">
                            <th colspan="17"><span t-esc="rt"/></th>
                        </tr>
                        <tr class="text-center" style="border: 1px solid black;height:20px;">
                            <th width="15%" style="border: 1px solid black;" rowspan="3"> Color</th>
                            <th width="13%" style="border: 1px solid black;">Section</th>
                            <th width="12%" style="border: 1px solid black;">Location</th>
                            <th width="4%" style="border: 1px solid black;">Duration</th>
                            <th width="5%" style="border: 1px solid black;">Order</th>
                            <th width="4%" style="border: 1px solid black;">Total <br/>Location</th>
                            <th width="5%" style="border: 1px solid black;">Rate <br/> Published</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Equiv</th>
                            <th width="5%" style="border: 1px solid black;">Gross <br/>Value</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Client</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Agen</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Finan</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Rcgos</th>
                            <th width="5%" style="border: 1px solid black;">Net <br/>Value</th>
                            <th width="5%" style="border: 1px solid black;">IVA</th>
                            <th width="5%" style="border: 1px solid black;">Listeners <br/>ECAR</th>
                            <th width="5%" style="border: 1px solid black;">CPM</th>
                        </tr>
                        <tbody class="sale_tbody">
                            <t t-foreach="list_data" t-as="line">
                                <t t-if="rt ==  line.get('report_type')">
                                    <tr class="text-center" style="border: 1px solid black;">
                                        <t t-if="line.get('is_ads')">
                                             <td>
                                                 <span t-esc="line.get('Cadena_Sistema')"/><br/>
                                                 <strong>Advertising Services</strong>
                                             </td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="line.get('Cadena_Sistema')"/></td>
                                        </t>
                                        <td><span t-esc="line.get('Programa_Periodo')"/></td>
                                        <td><span t-esc="line.get('Tipo_de_Cuna')"/></td>
                                        <td><span t-esc="line.get('Duración')"/></td>
                                        <td><span t-esc="line.get('Orden')"/></td>
                                        <td><span t-esc="line.get('Total_Cunas')"/></td>
                                        <td><span t-esc="line.get('Tarifa_Publicada')"/></td>
                                        <td><span t-esc="line.get('Equiv')"/></td>
                                        <td><span t-esc="line.get('Valor_Bruto')"/></td>
                                        <td><span t-esc="line.get('Desc_Cliente')"/></td>
                                        <td><span t-esc="line.get('Desc_Agen')"/></td>
                                        <td><span t-esc="line.get('Desc_Finan')"/></td>
                                        <td><span t-esc="line.get('Rcgos')"/></td>
                                        <td><span t-esc="line.get('Valor_Neto')"/></td>
                                        <td><span t-esc="line.get('IVA')" t-options='{"widget": "monetary", "display_currency": doc.crm_lead_id.currency_id}'/></td>
                                        <td><span t-esc="line.get('Oyentes_ECAR')"/></td>
                                        <td><span t-esc="line.get('CPM')"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>

                <t t-if="rt=='REVISTAS'">
<!--                <t t-elif="data['report_type'] == ''">-->
                    <table width="100%" style="border: 1px solid black;">
                        <tr rowspan="2" width="100">
                            <th colspan="17"><span t-esc="rt"/></th>
                        </tr>
                        <tr class="text-center" style="border: 1px solid black;height:20px;">
                            <th width="15%" style="border: 1px solid black;" rowspan="3"> Color</th>
                            <th width="13%" style="border: 1px solid black;">Format</th>
                            <th width="12%" style="border: 1px solid black;">Location</th>
                            <th width="4%" style="border: 1px solid black;">Duration</th>
                            <th width="5%" style="border: 1px solid black;">Order</th>
                            <th width="4%" style="border: 1px solid black;">Total <br/>Location</th>
                            <th width="5%" style="border: 1px solid black;">Rate <br/> Published</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Equiv</th>
                            <th width="5%" style="border: 1px solid black;">Gross <br/>Value</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Client</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Agen</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Desc <br/>Finan</th>
                            <th width="3%" style="border: 1px solid black;">% <br/>Rcgos</th>
                            <th width="5%" style="border: 1px solid black;">Net <br/>Value</th>
                            <th width="5%" style="border: 1px solid black;">IVA</th>
                            <th width="5%" style="border: 1px solid black;">Listeners <br/>ECAR</th>
                            <th width="5%" style="border: 1px solid black;">CPM</th>
                        </tr>
                        <tbody class="sale_tbody">
                            <t t-foreach="list_data" t-as="line">
                                <t t-if="rt ==  line.get('report_type')">
                                    <tr class="text-center" style="border: 1px solid black;">
                                         <t t-if="line.get('is_ads')">
                                             <td>
                                                 <span t-esc="line.get('Cadena_Sistema')"/><br/>
                                                 <strong>Advertising Services</strong>
                                             </td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="line.get('Cadena_Sistema')"/></td>
                                        </t>
                                        <td><span t-esc="line.get('Programa_Periodo')"/></td>
                                        <td><span t-esc="line.get('Tipo_de_Cuna')"/></td>
                                        <td><span t-esc="line.get('Duración')"/></td>
                                        <td><span t-esc="line.get('Orden')"/></td>
                                        <td><span t-esc="line.get('Total_Cunas')"/></td>
                                        <td><span t-esc="line.get('Tarifa_Publicada')"/></td>
                                        <td><span t-esc="line.get('Equiv')"/></td>
                                        <td><span t-esc="line.get('Valor_Bruto')"/></td>
                                        <td><span t-esc="line.get('Desc_Cliente')"/></td>
                                        <td><span t-esc="line.get('Desc_Agen')"/></td>
                                        <td><span t-esc="line.get('Desc_Finan')"/></td>
                                        <td><span t-esc="line.get('Rcgos')"/></td>
                                        <td><span t-esc="line.get('Valor_Neto')"/></td>
                                        <td><span t-esc="line.get('IVA')" t-options='{"widget": "monetary", "display_currency": doc.crm_lead_id.currency_id}'/></td>
                                        <td><span t-esc="line.get('Oyentes_ECAR')"/></td>
                                        <td><span t-esc="line.get('CPM')"/></td>
                                    </tr>
                                </t>
                            </t>
                        </tbody>
                    </table>
                </t>
            </t>


        </div>
    </t>
</template>

<template id="report_leadline_custom">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="crm_lead_extended.report_leadline_document_custom" t-lang="doc.crm_lead_id.partner_id.lang"/>
        </t>
    </t>
</template>

</odoo>
